<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Gxoker UBT EXAM</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;700&family=Pyidaungsu:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #00d2ff; --secondary: #3a7bd5; --success: #00ff87; --danger: #ff0055; --dark: #0f172a; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Montserrat', 'Pyidaungsu', sans-serif; }
        body { background: var(--dark); margin: 0; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; color: #fff; }

        .train-container { background: #ffd700; color: #000; height: 32px; display: flex; align-items: center; border-bottom: 2px solid #000; overflow: hidden; position: relative; z-index: 100; flex-shrink: 0; }
        .train-text { position: absolute; white-space: nowrap; animation: trainRun 15s linear infinite; font-weight: 800; font-size: 14px; text-transform: uppercase; }
        @keyframes trainRun { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        #login-screen { position: fixed; inset: 0; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); z-index: 5000; display: flex; align-items: center; justify-content: center; padding: 15px; }
        .login-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(15px); width: 100%; max-width: 550px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 25px 50px rgba(0,0,0,0.5); overflow: hidden; }
        .login-header { background: linear-gradient(90deg, var(--primary), var(--secondary)); padding: 25px; text-align: center; font-family: 'Orbitron', sans-serif; font-weight: bold; font-size: 20px; text-transform: uppercase; letter-spacing: 2px; }
        .login-split { display: flex; flex-wrap: wrap; padding: 20px; gap: 20px; }
        .login-left { flex: 1.2; min-width: 250px; }
        .login-right { flex: 0.8; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(0,0,0,0.2); border-radius: 15px; padding: 20px; border: 1px dashed rgba(255,255,255,0.2); }
        .profile-preview { width: 120px; height: 140px; border-radius: 12px; border: 2px solid var(--primary); object-fit: cover; background: #1e293b; margin-bottom: 15px; }
        .u-input { width: 100%; padding: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; color: #fff; margin: 8px 0 15px; outline: none; }
        .upload-label { background: var(--secondary); color: white; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-start { background: linear-gradient(90deg, #00ff87, #60efff); color: #000; border: none; padding: 20px; cursor: pointer; font-weight: 800; font-size: 18px; width: 100%; text-transform: uppercase; }

        #exam-screen { display: none; flex-direction: column; height: 100dvh; background: #fff; color: #000; }
        .ubt-header { display: flex; background: #1e293b; color: #fff; height: 48px; flex-shrink: 0; }
        .h-box { flex: 1; border-right: 1px solid #334155; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 11px; }

        .main-view { display: flex; flex: 1; overflow: hidden; padding: 10px; gap: 10px; }
        .glow-wrap { position: relative; flex: 1; display: flex; flex-direction: column; border-radius: 20px; padding: 3px; background: #f1f5f9; overflow: hidden; }
        .q-pane { position: relative; z-index: 1; flex: 1; padding: 15px; overflow-y: auto; border-radius: 17px; background: white; }
        .a-pane { position: relative; z-index: 1; flex: 1; padding: 10px; overflow-y: auto; background: #fff; border-radius: 17px; display: flex; flex-direction: column; gap: 8px; }

        .ans-item { display: flex; align-items: center; padding: 10px; border: 2px solid #e2e8f0; border-radius: 10px; cursor: pointer; transition: 0.2s; font-size: 14px; position: relative; }
        .ans-item.selected { background: #3a7bd5; border-color: #00d2ff; color: #fff; }
        .ans-item.is-correct { border-color: var(--success); background: #dcfce7; color: #166534; }
        .ans-item.is-wrong { border-color: var(--danger); background: #fee2e2; color: #991b1b; }
        .ans-num { width: 24px; height: 24px; border: 2px solid #475569; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; flex-shrink: 0; font-weight: bold; font-size: 12px; }

        .ubt-footer { display: flex; height: 55px; background: #0f172a; flex-shrink: 0; }
        .f-btn { flex: 1; color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; font-size: 13px; border-right: 1px solid #1e293b; }

        #result-screen { position: fixed; inset: 0; background: #0f172a; z-index: 7000; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .cert-card { background: #fff; padding: 30px; border-radius: 30px; width: 100%; max-width: 450px; text-align: center; color: #000; border-top: 10px solid var(--secondary); }
        .res-photo { width: 110px; height: 130px; border-radius: 12px; border: 3px solid var(--secondary); object-fit: cover; margin-bottom: 10px; }
        .stamp { font-size: 50px; font-weight: 900; margin: 10px 0; font-family: 'Orbitron', sans-serif; letter-spacing: 5px; }
        .pass { color: var(--success); } .fail { color: var(--danger); }
        .review-btn { background: var(--dark); color: white; padding: 15px; border-radius: 12px; width: 100%; font-weight: bold; border: none; margin-top: 15px; cursor: pointer; }

        .grammar-box { background: #f0f4f8; padding: 12px; border-radius: 8px; margin-top: 10px; line-height: 1.8; font-size: 15px; border-left: 4px solid var(--secondary); }
        .underline { text-decoration: underline; font-weight: bold; color: #d32f2f; }
        @media (max-width: 768px) { .main-view { flex-direction: column; } }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <div class="login-header">GXOKER UBT EXAM</div>
            <div class="login-split">
                <div class="login-left">
                    <label style="font-size:11px; font-weight:bold; color:var(--primary);">FULL NAME</label>
                    <input type="text" id="c-name" class="u-input" placeholder="Enter name">
                    <label style="font-size:11px; font-weight:bold; color:var(--primary);">JOB SECTOR</label>
                    <select id="c-job" class="u-input">
                        <option>Construction (건설업)</option>
                        <option>Manufacturing (제조업)</option>
                        <option>Agriculture (농축산업)</option>
                    </select>
                </div>
                <div class="login-right">
                    <img id="img-prev" src="https://i.imgur.com/edHMTVH.jpeg" class="profile-preview">
                    <label for="file-input" class="upload-label">UPLOAD PHOTO</label>
                    <input type="file" id="file-input" accept="image/*" style="display:none;">
                </div>
            </div>
            <button id="start-btn" class="btn-start">CONFIRM & START</button>
        </div>
    </div>

    <div id="exam-screen">
        <div class="ubt-header">
            <div class="h-box" id="d-name">NAME</div>
            <div class="h-box" id="d-job">SECTOR</div>
            <div class="h-box">REM: <span id="rem-count">20</span></div>
            <div class="h-box" id="timer-val" style="color:var(--primary);">20:00</div>
        </div>
        <div class="train-container">
            <div class="train-text">Gxoker စနစ်သစ် UBT ——— အောင်မှတ် (၈၅) မှတ် ——— အဖြေများကို ပြီးဆုံးမှ ပြန်လည်စစ်ဆေးနိုင်သည်</div>
        </div>
        <div class="main-view">
            <div class="glow-wrap"><div class="q-pane" id="q-content"></div></div>
            <div class="glow-wrap"><div class="a-pane" id="ans-list"></div></div>
        </div>
        <div class="ubt-footer">
            <div class="f-btn" id="prev-btn" onclick="step(-1)">PREVIOUS</div>
            <div class="f-btn" onclick="openGrid()" style="color:var(--primary);">LIST</div>
            <div class="f-btn" id="next-btn" onclick="step(1)">NEXT</div>
            <div class="f-btn" id="sub-btn" style="background:var(--danger);">FINISH</div>
        </div>
    </div>

    <div id="result-screen">
        <div class="cert-card">
            <img id="r-photo" class="res-photo" src="">
            <div style="font-size: 20px; font-weight: bold; color: #1e293b;" id="r-name">NAME</div>
            <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">
            <div id="pass-fail-tag" class="stamp">PASS</div>
            <div style="font-size: 45px; font-weight: bold; color: #0f172a;" id="res-score">0</div>
            <div id="r-stats" style="font-weight: bold; color: #64748b;">Correct: 0/20</div>
            <button class="review-btn" onclick="startReview()">REVIEW ANSWERS</button>
            <button class="review-btn" style="background:var(--secondary);" onclick="location.reload()">RE-TAKE TEST</button>
        </div>
    </div>

<script>
    const questions = [
        { q: "[1~2] 다음 그림을 보고 맞는 단어나 문장을 고르십시오.", img: "https://i.imgur.com/GnA1G3G.jpeg", a: ["망치로 못을 박고 있습니다.", "철근을 결속선으로 묶고 있습니다.", "벽돌을 쌓아 담장을 만들고 있습니다.", "페인트로 외벽을 칠하고 있습니다."], c: 3 },
        { q: "[1~2] 다음 그림을 보고 맞는 단어나 문장을 고르십시오.", img: "https://i.imgur.com/MhQiO2p.jpeg", a: ["둥근톱으로 나무판자를 자르고 있습니다.", "대패로 나무의 표면을 깎고 있습니다.", "송곳으로 나무에 구멍을 내고 있습니다.", "사다리를 타고 지붕에 올라갑니다."], c: 0 },
        { q: "[3~4] 다음 설명에 알맞은 어휘를 고르십시오.<br><br>이것은 주로 건물 외벽을 칠하거나 높은 곳에서 작업할 때 발을 딛고 올라설 수 있도록 임시로 설치하는 가설물입니다.", a: ["승강기", "비계", "소화기", "지게차"], c: 1 },
        { q: "[3~4] 다음 설명에 알맞은 어휘를 고르십시오.<br><br>근로자가 계약된 근로 시간을 초과하여 야간(밤 10시~오전 6시)에 일을 했을 때 추가로 받는 수당입니다.", a: ["육아 수당", "야간 근로 수당", "퇴직금", "식대"], c: 1 },
        { q: "[5] 다음 중 문법적으로 맞는 것을 고르십시오.", gBox: "① 배가 <span class='underline'>아파서</span> 병원에 가기로 했어요.<br>② 한국에 <span class='underline'>오느라고</span> 한국말을 못 해요.<br>③ 비가 <span class='underline'>오더니</span> 우산을 안 가져왔어요.<br>④ 공부를 <span class='underline'>하면</span> 시험에 합격할 수 없어요.", a: ["1번", "2번", "3번", "4번"], c: 0 },
        { q: "[6] 다음 중 문법적으로 맞는 것을 고르십시오.", gBox: "① 영화가 <span class='underline'>재미있길래</span> 한 번 더 봤어요.<br>② 밥을 <span class='underline'>먹으러</span> 기분이 아주 좋아요.<br>③ 친구를 <span class='underline'>만나고</span> 영화를 보겠어요.<br>④ 숙제를 <span class='underline'>하든지</span> 잠을 잤어요.", a: ["1번", "2번", "3번", "4번"], c: 0 },
        { q: "[7~8] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>목재 작업을 할 때는 손에 가시가 박힐 수 있으므로 반드시 ____ 을/를 끼고 일해야 합니다.", a: ["안전모", "면장갑", "귀마개", "보안경"], c: 1 },
        { q: "[7~8] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>공사 현장에서는 위에서 물체가 떨어질 위험이 항상 있기 때문에 ____ 을/를 머리에 꼭 써야 합니다.", a: ["마스크", "안전모", "귀덮개", "앞치마"], c: 1 },
        { q: "[9] 다음 표지에 대한 설명으로 옳은 것을 고르십시오.", img: "https://i.imgur.com/81tcbAq.jpeg", a: ["이곳에서는 큰 소리로 노래를 불러도 됩니다.", "주변이 시끄러우니까 이어폰을 끼라는 뜻입니다.", "사고를 막기 위해 조용히 작업해야 하는 곳입니다.", "기계가 고장 났으니 수리할 때까지 기다려야 합니다."], c: 2 },
        { q: "[10] 다음 그래프를 보고 내용과 같은 것을 고르십시오.", img: "https://i.imgur.com/8njqPXO.jpeg", a: ["김밥을 좋아하는 사람이 가장 많습니다.", "떡볶이보다 치킨을 선호하는 비중이 더 높습니다.", "호떡을 좋아하는 사람이 전체의 절반입니다.", "치킨과 김밥을 좋아하는 사람의 비율이 똑같습니다."], c: 1 },
        { q: "[11~14] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>한국에서는 길을 찾을 때 스마트폰의 ____ 앱을 이용하면 버스나 지하철 정보를 쉽게 알 수 있습니다.", a: ["요리", "지도", "카메라", "음악"], c: 1 },
        { q: "[11~14] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>가구 공장에서 일할 때는 규격에 맞게 나무를 ____ 것이 가장 기초적인 작업입니다.", a: ["재단하는", "볶는", "심는", "낚는"], c: 0 },
        { q: "[11~14] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>사업주가 근로자에게 정해진 월급을 제때 주지 않는 것을 임금 ____ 이라고 합니다.", a: ["송금", "체불", "환전", "인상"], c: 1 },
        { q: "[11~14] 빈칸에 들어갈 가장 알맞은 것을 고르십시오.<br><br>겨울철에 실내 온도를 높이기 위해 ____ 을/를 사용할 때는 화재가 나지 않도록 주의해야 합니다.", a: ["선풍기", "전기난로", "냉장고", "세탁기"], c: 1 },
        { q: "[15~17] 다음 글을 읽고 무엇에 대한 글인지 고르십시오.<br><br>한국에서는 집들이에 갈 때 보통 세제나 화장지를 선물로 가져갑니다.", a: ["집들이 선물과 의미", "한국의 결혼 비용", "이사하는 방법 안내", "한국의 전통 명절"], c: 0 },
        { q: "[15~17] 다음 글을 읽고 무엇에 대한 글인지 고르십시오.<br><br>사다리를 사용할 때는 바닥이 미끄럽지 않은지 확인하고, 반드시 2인 1조로 작업해야 합니다.", a: ["사다리 작업 안전 수칙", "페인트 종류 설명", "지붕 수리 비용 문의", "공장 청소 도구함 위치"], c: 0 },
        { q: "[15~17] 다음 글을 읽고 무엇에 대한 글인지 고르십시오.<br><br>고용허가제 근로자는 근로 계약을 체결한 후 1년마다 갱신을 하거나 연장을 할 수 있습니다.", a: ["한국어 능력 시험 일정", "근로 계약과 체류 기간", "비자 발급 수수료 안내", "외국인 등록증 재발급"], c: 1 },
        { q: "[18~20] 다음 글을 읽고 내용과 같은 것을 고르십시오.<br><br>한국의 직장에서는 상사나 동료에게 인사를 할 때 고개를 숙여 예의를 표합니다.", a: ["어른에게는 한 손으로만 악수를 해야 합니다.", "인사할 때는 고개를 숙이지 않는 것이 예의입니다.", "한국 직장에서는 인사를 통해 예의를 나타냅니다", "처음 만난 동료와는 절대 인사하지 않습니다."], c: 2 },
        { q: "[18~20] 다음 글을 읽고 내용과 같은 것을 고르십시오.<br><br>작업장에서 기계의 회전 부위에 장갑이 말려 들어가는 사고가 자주 발생합니다.", a: ["회전하는 기계에는 장갑이 낄 위험이 있습니다.", "큰 장갑을 낄수록 사고ကို 예방할 수 있습니다.", "모든 기계 작업에는 반드시 장갑을 껴야 합니다.", "기계 사고는 장갑과는 아무런 관계가 없습니다."], c: 0 },
        { q: "[20] 다음 글을 읽고 내용과 같은 것을 고르십시오.<br><br>'국민연금'은 나이가 들어 일을 할 수 없을 때를 대비하여 매달 일정 금액을 저축하는 제도입니다.", a: ["외국인은 국민연금을 절대로 받을 수 없습니다.", "국민연금은 일을 시작하자마자 다 돌려받는 돈입니다.", "나중을 위해 매달 돈을 적립하는 사회 보험 제도입니다.", "국민연금은 회사 사장님만 가입하는 보험입니다."], c: 2 }
    ];

    let idx = 0, userAns = Array(20).fill(null), clock = 1200, timerId, userPhoto = "https://i.imgur.com/edHMTVH.jpeg", isReview = false;

    document.getElementById('file-input').onchange = function(e) {
        if (e.target.files && e.target.files[0]) {
            const reader = new FileReader();
            reader.onload = (event) => { userPhoto = event.target.result; document.getElementById('img-prev').src = userPhoto; };
            reader.readAsDataURL(e.target.files[0]);
        }
    };

    document.getElementById('start-btn').onclick = () => {
        if(!document.getElementById('c-name').value) return alert("Please enter name!");
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('exam-screen').style.display = 'flex';
        document.getElementById('d-name').innerText = document.getElementById('c-name').value.toUpperCase();
        document.getElementById('d-job').innerText = document.getElementById('c-job').value;
        render();
        timerId = setInterval(() => {
            clock--;
            let m = Math.floor(clock/60), s = clock%60;
            document.getElementById('timer-val').innerText = `${m}:${s<10?'0':''}${s}`;
            if(clock <= 0) finish();
        }, 1000);
    };

    function render() {
        const qData = questions[idx];
        document.getElementById('q-content').innerHTML = `
            <div style="font-size:16px; color:var(--secondary); font-weight:bold; margin-bottom:8px;">[Question ${idx + 1}]</div>
            <div style="font-size:15px; line-height:1.5; color:#000;">${qData.q}</div>
            ${qData.img ? `<img src="${qData.img}" style="max-width:80%; border-radius:10px; border:1px solid #ddd; margin:10px 0; display:block; margin-left:auto; margin-right:auto;">` : ''}
            ${qData.gBox ? `<div class="grammar-box">${qData.gBox}</div>` : ''}`;
        
        document.getElementById('ans-list').innerHTML = qData.a.map((opt, i) => {
            let cls = "";
            if(isReview) {
                if(i === qData.c) cls = "is-correct";
                else if(userAns[idx] === i) cls = "is-wrong";
            } else if(userAns[idx] === i) {
                cls = "selected";
            }
            return `<div class="ans-item ${cls}" ${!isReview ? `onclick="pick(${i})"` : ''}>
                <div class="ans-num">${i+1}</div><div class="ans-text">${opt}</div>
                ${isReview && i === qData.c ? '<span style="position:absolute; right:10px; font-weight:bold;">✓</span>' : ''}
            </div>`;
        }).join('');
        document.getElementById('rem-count').innerText = 20 - userAns.filter(a => a !== null).length;
    }

    window.pick = (i) => { if(!isReview) { userAns[idx] = i; render(); } };
    window.step = (d) => { if(idx+d >= 0 && idx+d < questions.length) { idx += d; render(); } };

    function finish() {
        clearInterval(timerId);
        let correct = userAns.filter((ans, i) => ans === questions[i].c).length;
        let score = correct * 5;
        
        const formID = "1FAIpQLSeGh-qyhxui_7kskfzH0SOYI_CRvJFf901nuJR6L1FuakNM3w";
        const entryName = "entry.749888112";
        const entryScore = "entry.1965924227";
        const subURL = `https://docs.google.com/forms/d/e/${formID}/formResponse?${entryName}=${encodeURIComponent(document.getElementById('c-name').value)}&${entryScore}=${score}&submit=Submit`;
        fetch(subURL, { mode: 'no-cors' });

        document.getElementById('r-name').innerText = document.getElementById('c-name').value.toUpperCase();
        document.getElementById('r-photo').src = userPhoto;
        document.getElementById('res-score').innerText = score;
        document.getElementById('r-stats').innerText = `Total Correct: ${correct} / 20`;
        const tag = document.getElementById('pass-fail-tag');
        tag.innerText = score >= 85 ? "PASS" : "FAIL";
        tag.className = "stamp " + (score >= 85 ? "pass" : "fail");

        document.getElementById('exam-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'flex';
    }

    function startReview() {
        isReview = true;
        idx = 0;
        document.getElementById('result-screen').style.display = 'none';
        document.getElementById('exam-screen').style.display = 'flex';
        document.getElementById('sub-btn').innerText = "EXIT REVIEW";
        document.getElementById('sub-btn').onclick = () => location.reload();
        render();
    }

    window.openGrid = () => {
        let gridHtml = userAns.map((ans, i) => {
            let bg = "#fff", col = "#000";
            if(isReview) {
                bg = (ans === questions[i].c) ? "var(--success)" : "var(--danger)";
                col = "#fff";
            } else if(ans !== null) {
                bg = "var(--secondary)"; col = "#fff";
            }
            return `<div onclick="idx=${i};render();closeGrid();" style="padding:12px; border:1px solid #ddd; border-radius:8px; text-align:center; background:${bg}; color:${col}; font-weight:bold; cursor:pointer;">${i+1}</div>`;
        }).join('');
        const popup = document.createElement('div');
        popup.id = "grid-popup";
        popup.style = "position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:8000; display:flex; align-items:center; justify-content:center; padding:20px;";
        popup.innerHTML = `<div style="background:#fff; padding:20px; border-radius:20px; width:100%; max-width:350px;">
            <div style="display:grid; grid-template-columns:repeat(5, 1fr); gap:10px; margin-bottom:20px;">${gridHtml}</div>
            <button onclick="closeGrid()" style="width:100%; padding:15px; border-radius:10px; border:none; background:var(--dark); color:#fff; font-weight:bold;">CLOSE</button>
        </div>`;
        document.body.appendChild(popup);
    };
    window.closeGrid = () => document.getElementById('grid-popup').remove();
    document.getElementById('sub-btn').onclick = () => { if(confirm("End test?")) finish(); };
</script>
</body>
</html>
